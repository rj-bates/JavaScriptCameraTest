<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Camera Flash Test</title>
</head>
<body>
    <h1>Camera Flash Test</h1>
    <div>
        <button id="captureButton">Capture Photo with Flash</button>
        <button id="nativeCaptureButton">Capture Photo with Native Camera</button>
    </div>
    <video id="video" autoplay style="display: none;"></video>
    <img id="capturedImage" style="display: none; max-width: 100%;" alt="Captured photo">
    <img id="nativePhoto" style="display: none; max-width: 100%;" alt="Native camera photo">
    <div id="capabilities"></div>

    <!-- Load scripts in the correct order -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/google-protobuf/3.21.2/google-protobuf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/grpc-web/1.5.0/grpc-web.min.js"></script>
    <script src="bundle.js"></script>
    <script>
        // Expose the flashcontrol object to the global scope
        window.flashcontrol = flashcontrol;
        console.log('bundle.js loaded. flashcontrol object:', window.flashcontrol);
    </script>
    <script src="camera.js"></script>
</body>
</html>